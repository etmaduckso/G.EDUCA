<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
</head>
<body>
    <h1>Formulário de Cadastro</h1>
    <input type="text" id="name" placeholder="Nome do Usuário">
    <input type="text" id="register-username" placeholder="Usuário">

    <input type="password" id="register-password" placeholder="Senha">
    <button id="register-button">Cadastrar</button>
    <script>
        document.getElementById('register-button').addEventListener('click', async () => {
            const name = document.getElementById('name').value;
            const username = document.getElementById('register-username').value;
            const password = document.getElementById('register-password').value;

    // Salva os dados de cadastro no sessionStorage
    sessionStorage.setItem('username', username);
    sessionStorage.setItem('password', password);

    const response = await fetch('/register', {

                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name, username, password }),
            });

    const message = await response.text();
    alert(message);

    // Redireciona para a página index.html após cadastro bem-sucedido
    if (response.ok) {
        window.location.href = 'index.html';
    }

        });
    </script>

    <script src="script.js"></script>
</body>
</html>
